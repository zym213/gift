require.config({baseUrl:"https://cdnjs.cloudflare.com/ajax/libs/",paths:{jquery:"jquery/1.12.4/jquery.min",jqcookie:"jquery-cookie/1.4.1/jquery.cookie.min",jqvalidate:"jquery-validate/1.19.0/jquery.validate.min",jqlzload:"jquery.lazyload/1.9.1/jquery.lazyload.min"},shim:{jqlzload:{exports:"jqlzload",deps:["jquery"]},jqvalidate:{exports:"jqvalidate",deps:["jquery"]}}}),define("config",function(){}),define("index",["config"],function(){require(["jquery","jqcookie"],function(){var t="http://localhost/liwuyou/src/";$(".header").load(t+"header.html",function(){var e=$(".h_top .logo");e.hover(function(){$(this).find("h1").stop(!0).animate({"background-position-x":"-57px"})},function(){$(this).find("h1").stop(!0).animate({"background-position-x":"0px"})}),e.on("click",function(){location.href=t+"index.html"}),$(".user .user_login").hover(function(){$(this),$(".user_login i").stop(!0).animate({"background-position-y":"-14px"})},function(){$(this),$(".user_login i").stop(!0).animate({"background-position-y":"0px"})}).on("mouseover",function(){$(".user .userbox").show()}).on("mouseout",function(){$(".user .userbox").hide()}),$(".user .user_car").hover(function(){$(this),$(".user_car i").stop(!0).animate({"background-position-y":"-14px"})},function(){$(this),$(".user_car i").stop(!0).animate({"background-position-y":"0px"})});var i=$(".subnav .who a"),o=$(".subnav .why p");i.on("click",function(){$(this).addClass("add").siblings().removeClass("add"),o.eq($(this).index()).show().siblings().hide()});var n=$(".subnav .who p");$(".subnav .why a").on("click",function(){$(this).addClass("add").siblings().removeClass("add"),n.eq($(this).index()).show().siblings().hide()}),$.cookie("user")&&$.cookie("password")&&($(".user .user_login .username").text($.cookie("user")).show(),$(".user .user_login .back").show(),$(".user .user_login p").hide()),$(".user_login .back").on("click",function(){$.cookie("user","",{expires:-1}),$.cookie("password","",{expires:-1}),$(".user .user_login .back").hide(),$(".user .user_login p").show(),$(".user .user_login .username").hide().text("")}),$(".user .user_login").on("click",function(){location.href=t+"login.html"})}),$(".footer").load(t+"footer.html"),$(".footers").load(t+"footer.html .f_top,.middle");var e=$(".banner .pics li");$(".banner .btns i").hover(function(){$(this).addClass("active").siblings().removeClass("active"),e.eq($(this).index()).stop(!0).animate({opacity:1,filter:"alpha(opacity=100)"}).siblings().animate({opacity:0,filter:"alpha(opacity=0)"})}),$(window).on("scroll",function(){$(window).scrollTop()>98?$(".aside").show():$(".aside").hide()}),$(".aside .bt").on("click",function(){$("body,html").animate({scrollTop:0})}),$(".aside .louti").on("click",function(){var t=$(".section .goods .louceng").eq($(this).index(".louti")).offset().top-20;$("body,html").animate({scrollTop:t})}),$(".hot").hover(function(){$(".hot #left").show(),$(".hot #right").show()},function(){$(".hot #left").hide(),$(".hot #right").hide()});var i=4;$(".hot #right").on("click",function(){var t=$(".hot ul li");t.length>i&&(i++,$(".hot ul").stop(!0).animate({left:-t.eq(1).outerWidth(!0)*(i-4)}))}),$(".hot #left").on("click",function(){var t=$(".hot ul li");i>4&&(i--,$(".hot ul").stop(!0).animate({left:-t.eq(1).outerWidth(!0)*(i-4)}))})}),require(["jquery","jqlzload"],function(){var t="http://localhost/liwuyou/",e=$(".section .creative .b_bottom ul"),i=$(".section .birthday .b_bottom ul");$.getJSON(t+"php/creative.php",function(o){$.each(o,function(i,o){if(i<8)if(i>3)var n='<li class="left t15"><a target="_blank" href="'+t+"src/details.html?sid="+o.sid+'"><img class="lazy" data-original="'+o.url+'"><span>'+o.title+"</span></a><span>￥"+o.price+"</span></li>";else var n='<li class="left"><a target="_blank"  href="'+t+"src/details.html?sid="+o.sid+'"><img class="lazy" data-original="'+o.url+'"><span>'+o.title+"</span></a><span>￥"+o.price+"</span></li>";e.append(n)}),$.each(o,function(e,o){if(e>7)if(e>11)var n='<li class="left t15"><a target="_blank" href="'+t+"src/details.html?sid="+o.sid+'"><img class="lazy" data-original="'+o.url+'"><span>'+o.title+"</span></a><span>￥"+o.price+"</span></li>";else var n='<li class="left"><a target="_blank"  href="'+t+"src/details.html?sid="+o.sid+'"><img class="lazy" data-original="'+o.url+'"><span>'+o.title+"</span></a><span>￥"+o.price+"</span></li>";i.append(n)}),$(function(){$(".lazy").lazyload({effect:"fadeIn"})})})})}),define("detail",["config"],function(){require(["jquery"],function(){var t=location.search.substring(1).split("=")[1];$.ajax({url:"http://localhost/liwuyou/php/get.php",data:{sid:t},dataType:"json"}).done(function(t){$(".upper #detail_title").html(t.detail_title),$(".content .detail h3").html(t.detail_title),$(".content .detail p").html(t.detail_content),$(".content .price .price_left").html(t.price),$(".content .df").attr("sid",t.sid),$(".content .detail .buy img").attr("src",t.url);var e=t.urls.split(","),i="";$.each(e,function(t,e){i+='<li><img src="'+e+'"></li>'}),$(".content .glass .glass_left").html(i),$(".content .glass .scale img").attr("src",e[0])}),$(".content .glass .left").on("mouseover",function(t){var e=$(t.target);e.parent().css("border-color","#d93732").siblings().css("border-color","#e6e6e6");var i=e.attr("src");$(".glass .scale img").attr("src",i)});var e=$(".scale"),i=$(".scale .sf"),o=$(".scale .st"),n=$(".scale .df"),s=$(".scale .dt");o.on("mouseover",function(){i.css("visibility","visible"),n.css("visibility","visible"),o.on("mousemove",function(t){var a=o.width()*n.width()/s.width(),r=o.height()*n.height()/s.height(),c=t.pageY-e.offset().top-i.height()/2,l=t.pageX-e.offset().left-i.width()/2,u=s.outerWidth()/o.outerWidth();i.css({width:a,height:r,top:c,left:l}),c<0?(i.css("top",0),c=0):c>o.height()-i.height()&&(i.css("top",o.height()-i.height()),c=o.height()-i.height()),l<0?(i.css("left",0),l=0):l>o.width()-i.width()&&(i.css("left",o.width()-i.width()),l=o.width()-i.width()),s.css({top:-c*u,left:-l*u})})}),o.on("mouseout",function(){i.css("visibility","hidden"),n.css("visibility","hidden")})}),require(["jquery","jqcookie"],function(){function t(){$.cookie("sid")&&$.cookie("num")&&(i=$.cookie("sid").split(","),o=$.cookie("num").split(","))}var e=location.search.substring(1).split("=")[1],i=[],o=[];$(".content .detail .buy").on("click",function(){if(location.reload(!0),t(),$.cookie("user"))if(-1!=$.inArray(e,i)){var n=parseInt(o[$.inArray(e,i)])+1;o[$.inArray(e,i)]=n,$.cookie("num",o.toString(),{expires:30})}else i.push(e),$.cookie("sid",i.toString(),{expires:30}),o.push(1),$.cookie("num",o.toString(),{expires:30});else alert("请先登录")})})}),define("registor",["config"],function(){require(["jquery","jqvalidate"],function(){function t(t){return/^1[345789]\d{9}$/.test(t)}var e=$("#form .tel"),i=$("#form .password"),o=$("#form .check"),n=$("#form .username");$("#form input").not(".submit").on("focus",function(){$(this).attr("placeholder","")}),$("#form .tel").on("blur",function(){t(e.val())||($("#tel-error").text("您输入的手机号码有误").css("color","#d93732"),e.val(""))}),$("#form .username").on("blur",function(){n.val()||$("#username-error").text("请输入用户名").css("color","#d93732")}),$("#form .password").on("blur",function(){i.val()||$("#password-error").text("请输入密码").css("color","#d93732")}),$("#form .check").on("blur",function(){o.val()||$("#check-error").text("请再次输入密码").css("color","#d93732")}),$(function(){$(function(){$("#form").validate({rules:{tel:{required:!0,minlength:11,maxlength:11,remote:{type:"post",url:"http://localhost/liwuyou/php/registor.php"}},username:{required:!0,rangelength:[2,10]},password:{required:!0,maxlength:12,minlength:6},check:{required:!0,equalTo:".password"}},messages:{tel:{required:"手机号码不能为空",minlength:"不能小于11个字符",maxlength:"不能多于11个字符",remote:"此手机号已被占用"},username:{required:"用户名不能为空",rangelength:"用户名长度不符"},password:{required:"密码不能为空",maxlength:"密码位数过多",minlength:"密码位数过少"},check:{required:"密码重复不能为空",equalTo:"密码不一致"}}})}),$.validator.setDefaults({success:function(t){t.text("√").css("color","green").addClass("valid")}})})})}),define("login",["config"],function(){require(["jquery","jqvalidate","jqcookie"],function(){var t="http://localhost/liwuyou/";$("#form1 input").not(".submit").on("focus",function(){$(this).attr("placeholder","")}),$("#form1 .username").on("blur",function(){$("#form1 .username").val()||$("#username-error").text("请输入用户名").css("color","#d93732")}),$("#form1 .password").on("blur",function(){$("#form1 .password").val()||$("#password-error").text("请输入密码").css("color","#d93732")}),$("#form1 .submit").on("click",function(){var e=$("#form1 .username").val(),i=$("#form1 .password").val();$("#form1 .tel").val(),$.ajax({type:"post",url:t+"php/login.php",data:{user:e,password:i},success:function(o){o?(location.href=t+"src/index.html",$("input[type='checkbox']").prop("checked")?($.cookie("user",e,{expires:30}),$.cookie("password",i,{expires:30})):($.cookie("user",e),$.cookie("password",i))):(alert("登录失败"),$("#form1 .username").val(""),$("#form1 .password").val(""))}})})})}),define("cart",["config"],function(){require(["jquery","jqcookie"],function(){function t(t,i){$.ajax({url:"http://localhost/liwuyou/php/creative.php",dataType:"json"}).done(function(o){$.each(o,function(o,n){if(t==n.sid){var s=$(".carcontent table"),a="";a+='<tr><td class="info"><input type="checkbox" class="check" checked><a href="javascript:;"><img src="'+n.url+'" sid="'+n.sid+'"></a><div><p><a href="javascript:;">'+n.title+'</a></p><span>礼物颜色:薄荷绿</span></div></td><td class="money">￥<span>'+n.price+'</span></td><td class="count"><div><a href="javascript:;" class="bgr left" id="jian"></a><input type="text" class="left" value="'+i+'"><a href="#" class="bgr left" id="jia"></a></div></td><td>有库存</td><td class="quantity">￥<span>'+i*n.price+'</span></td><td class="del"><i class="bgr"></i></td></tr>',s.append(a),e()}})})}function e(){var t=0,e=0;$(".carcontent table tr").not(".f1").each(function(i,o){$(o).find(".check").prop("checked")&&(e+=parseInt($(o).find(".count").find("input").val()),t+=parseFloat($(o).find(".quantity").find("span").html()))}),$(".cash .right em").html(e),$(".cash .right strong span").html(t)}function i(){$.cookie("sid")&&$.cookie("num")&&(r=$.cookie("sid").split(","),c=$.cookie("num").split(","))}function o(t){i();var e=t.first().parents("tr").find("img").attr("sid");c[$.inArray(e,r)]=t.first().parents("tr").find(".count input").val(),$.cookie("num",c.toString(),{expires:30})}function n(t,e){var i=-1;$.each(e,function(e,o){t==o&&(i=e)}),e.splice(i,1),c.splice(i,1),$.cookie("sid",e.toString(),{expires:30}),$.cookie("num",c.toString(),{expires:30})}if($.cookie("sid")&&$.cookie("num")){$(".prev_content").hide(),$(".carcontent").show();var s=$.cookie("sid").split(","),a=$.cookie("num").split(",");$.each(s,function(e,i){t(s[e],a[e])})}else $(".prev_content").show(),$(".carcontent").hide();$(".carcontent table").on("click","#jia",function(){var t=$(this).first().parents("tr").find(".count input").val();t++,t>=99&&(alert("数量超过库存上线"),t=99),$(this).first().parents("tr").find(".count input").val(t);var i=t*$(this).first().parents("tr").find(".money span").text();$(this).first().parents("tr").find(".quantity span").text(i),e(),o($(this))}),$(".carcontent table").on("click","#jian",function(){var t=$(this).first().parents("tr").find(".count input").val();t--,t<=1&&(t=1),$(this).first().parents("tr").find(".count input").val(t);var i=t*$(this).first().parents("tr").find(".money span").text();$(this).first().parents("tr").find(".quantity span").text(i),e(),o($(this))}),$(".carcontent table").on("input",".count input",function(){var t=/^\d$/g,i=parseInt($(this).val());t.test(i)?i>=99?$(this).val(99):i<=0?$(this).val(1):$(this).val(i):$(this).val(1);var n=$(this).val()*$(this).first().parents("tr").find(".money span").text();$(this).first().parents("tr").find(".quantity span").text(n),e(),o($(this))}),$(".carcontent table").on("click",".del",function(){if(i(),confirm("确定删除此宝贝吗?")){$(this).first().parents("tr").remove();n($(this).first().parents("tr").find("img").attr("sid"),r)}e(),location.reload(!0)});var r=[],c=[];$(".f2 .delall").on("click",function(){confirm("确认全部删除吗?")&&($(".carcontent table tr").not(".f1").remove(),$.cookie("sid","",{expires:-1}),$.cookie("num","",{expires:-1}),$(".f2").hide(),e()),location.reload(!0)}),$(".f2 .delone").on("click",function(){if(i(),confirm("确认删除已选商品吗?")&&$(".carcontent table").find(".check:checked")){$(".carcontent table").find(".check:checked").first().parents("tr").remove();n($(".carcontent table").find(".check:checked").first().parents("tr").find("img").attr("sid"),r),e(),r.length<=0&&location.reload(!0)}}),$(".f2 .checkall").on("change",function(){$(".f2 .checkall").prop("checked")?$(".carcontent table .check").prop("checked",!0):$(".carcontent table .check").prop("checked",!1),e()}),$(".carcontent table").on("change",".check",function(){$(".carcontent table").find(".check").size()==$(".carcontent table").find(".check:checked").size()?$(".f2 .checkall").prop("checked",!0):$(".f2 .checkall").prop("checked",!1),e()})})}),require(["index","detail","registor","login","cart"]),define("main",function(){});